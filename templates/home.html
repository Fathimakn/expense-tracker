{% extends 'master.html' %}
{% block title%}<title>HOME PAGE</title>

<style>

    body {
        font-family: Arial, sans-serif;
        margin: 20px;
        background-color: #f5f5f5;
    }

    h1 {
        text-align: center;
        color: #333;
    }

    .nav-bar {
        list-style-type: none;
        padding: 0;
        margin-bottom: 20px;
        display: flex;
        gap: 20px;
    }

    .nav-bar li a {
        text-decoration: none;
        color: white;
        background-color: #007BFF;
        padding: 8px 16px;
        border-radius: 5px;
    }

    .nav-bar li a:hover {
        background-color: #0056b3;
    }

    form {
        margin: 20px 0;
        text-align: center;
    }

    input[type="month"], button {
        padding: 8px 12px;
        margin: 5px;
        border-radius: 5px;
        border: 1px solid #ccc;
    }

    button {
        background-color: #28a745;
        color: white;
        border: none;
        cursor: pointer;
    }

    button:hover {
        background-color: #218838;
    }

    ul {
        color: #333;
        background-color: #e6ffe6;
        padding: 10px 20px;
        border-radius: 5px;
        width: fit-content;
        margin: 0 auto 20px;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        background-color: white;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    th, td {
        border: 1px solid #ccc;
        padding: 10px;
        text-align: center;
    }

    th {
        background-color: #007BFF;
        color: white;
    }

    td a {
        text-decoration: none;
        color: #007BFF;
        margin: 0 5px;
    }

    td a:hover {
        text-decoration: underline;
    }


    </style>
{% endblock %}
{% block content%}
<ul class="nav-bar">
    <li><a href="{% url 'login' %}">login</a></li>
    <li><a href="{% url 'logout' %}">logout</a></li>
</ul>

<h1 >EXPENSE TRACKER</h1>
{% if tracks %}
<h2 style="color:green;">SUMMARY OF SELECTED MONTH</h2>
<ul>
<li>TOTAL INCOME :{{total_income}}</li>
<li>TOTAL EXPENSE:{{total_expense}}</li>
<li>BALANCE:{{balance}}</li>
    </ul>
{% endif %}
<form method="get">
    <label for="month">Select Month And Year:</label>
    <input type="month" name="monthyear" id="month">
    <button type="submit">Filter</button>
</form>

<!-- choosing month as select -->
   <!-- <form method="get">
<label for="month">Choose a Month:</label>
<select name="month" id=month>
  <option value="05">May</option>
  <option value="06">June</option>
  <option value="07">July</option>
  <option value="08">AUgust</option>
</select>
  <button type="submit">Filter</button>
</form>-->
<div>
    <table >
        <tr>
            <th>TITLE</th>
            <th>TYPE</th>
            <th>CATEGORY</th>
            <th>AMOUNT</th>
            <th>DATE</th>
            <th>ACTIONS</th>
        </tr>
        {% if tracks %}
        {% for track in tracks %}
        <tr>
            <td>{{track.title}}</td>
            <td>{{track.type}}</td>
            <td>{{track.category}}</td>
            <td>{{track.amount}}</td>
            <td>{{track.date}}</td>
            <td><a href="{% url 'update' track.id %}">EDIT</a>|<a href="{% url 'delete' track.id %}">DELETE</a></td>

        </tr>
        {% endfor %}
        {% endif %}
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td><a href="{% url 'add' %}">ADD</a></td>
        </tr>
    </table>
</div>
{% endblock %}